<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/css/style.css">
    <title>IndieWave</title>

    <link rel="icon" href="/img/favicon.ico" type="image/x-icon" />
</head>

<body id="body-edit-create">

    <%- include("../partials/header.ejs") %>

        <main id="main-edit-create">
            <h2 id="title">Editar Producto </h2>
            <form id="create-form" action="/products/edit/<%= product.id %>?_method=PUT" method="POST" enctype="multipart/form-data">

                <input type="text" name="game_name" id="game_name" aria-label="nombre del juego" value="<%= product.name%>">

                <input type="text" name="developer" id="developer" aria-label="desarrollador" value="<%= product.developer %>">

                <div id="genre">
                    <label for="genre">Género:</label>
                    <select name="genre">
                        <option value="Arcade" 
                        <% if (product.genre.name === "Arcade" ){ %> 
                            selected 
                        <% } %> > Arcade </option>
                        <option value="Acción"
                        <% if (product.genre.name === "Acción" ){ %> 
                            selected 
                        <% } %> > Acción</option>
                        <option value="Deportes"
                        <% if (product.genre.name === "Deportes" ){ %> 
                            selected 
                        <% } %> > Deportes</option>
                        <option value="Estrategia"
                        <% if (product.genre.name === "Estrategia" ){ %> 
                            selected 
                        <% } %> > Estrategia</option>
                        <option value="Aventura" 
                        <% if (product.genre.name === "Aventura" ){ %> 
                            selected 
                        <% } %> > Aventura</option>
                    </select>
                </div>

                <input type="email" name="email" id="email" aria-label="email" value="<%= product.email %>">


                <label for="release_date">Fecha de lanzamiento</label>
                <input type="date" name="release_date" id="release_date" aria-label="fecha de lanzamiento" value="<%= product.release_date %>">
                
                <span id="subtitle">Plataforma</span>
                <div id="checkbox-wrapper">

                    <label for="windows">Windows</label>
                    <input type="checkbox" name="windows" id="windows" 
                    <% if (productPlatforms.includes("Windows")) { %>
                        checked 
                    <% } %> > 

                    <label for="macos">macOS</label>
                    <input type="checkbox" name="macos" id="macos"
                    <% if (productPlatforms.includes("macOS")) { %>
                        checked 
                    <% } %> > 

                    <label for="linux">Linux</label>
                    <input type="checkbox" name="linux" id="linux"
                    <% if (productPlatforms.includes("Linux")) { %>
                        checked 
                    <% } %> > 

                </div>

                <input type="number" name="price" id="price" aria-label="price" value="<%= product.price %>">

                <label for="logo" id="logo" >Cargar Logo</label>
                <input type="file" name="logo" accept=".png, .jpeg, .jpg" id="logo" aria-label="logo" alt="logo">

                <label for="images" id="images" >Cargar Imágenes</label>
                <input type="file" name="images" accept=".png, .jpeg, .jpg" id="images" aria-label="imágenes" alt="Imágenes" multiple>

                <textarea rows="7" name="min_requirements" id="min_requirements" aria-label="requisitos minimos"><%= product.min_requirements %></textarea>

                <textarea rows="7" name="rec_requirements" id="rec_requirements" aria-label="requisitos recomendados" ><%= product.rec_requirements %></textarea>

                <textarea rows="9" name="description" id="description" maxlength="500" aria-label="descripcion"><%= product.description %></textarea>
                
                <button type="reset" id="delete-btn">Borrar</button>
                <button type="submit" id="send-btn">Enviar</button>  
                
            </form>
        </main>

        <%- include("../partials/footer.ejs") %>

</body>